# Maicraft-Next

åŸºäº mineflayer çš„ Minecraft AI ä»£ç† - ä½¿ç”¨ LLM é©±åŠ¨çš„æ™ºèƒ½æ¸¸æˆ Bot

æ˜¯å¯¹[maicraft](https://github.com/Mai-with-u/Maicraft)é¡¹ç›®çš„Typescripté‡æ„ï¼Œä¸å†éœ€è¦ä¾èµ–[maicraft-mcp-server](https://github.com/ChangingSelf/maicraft-mcp-server)

## âœ¨ ç‰¹æ€§

### ğŸ§  æ™ºèƒ½å†³ç­–ç³»ç»Ÿ

- **LLM é©±åŠ¨**ï¼šä½¿ç”¨ GPT-4/GPT-3.5/Claude ç­‰å…ˆè¿›æ¨¡å‹è¿›è¡Œå†³ç­–
- **å¤šæ¨¡å¼ç®¡ç†**ï¼šä¸»æ¨¡å¼ã€æˆ˜æ–—æ¨¡å¼ç­‰ï¼Œæ ¹æ®æƒ…å¢ƒè‡ªåŠ¨åˆ‡æ¢
- **å®æ—¶çŠ¶æ€æ„ŸçŸ¥**ï¼šæ— éœ€æŸ¥è¯¢åŠ¨ä½œï¼Œç›´æ¥è®¿é—®å…¨å±€æ¸¸æˆçŠ¶æ€

### ğŸ’¾ å…ˆè¿›è®°å¿†ç³»ç»Ÿ

- **å››ç§è®°å¿†ç±»å‹**ï¼š
  - æ€ç»´è®°å¿† (ThoughtMemory) - AI çš„å†…éƒ¨æ€è€ƒè¿‡ç¨‹
  - å¯¹è¯è®°å¿† (ConversationMemory) - èŠå¤©äº’åŠ¨å†å²
  - å†³ç­–è®°å¿† (DecisionMemory) - è¡ŒåŠ¨å†³ç­–åŠç»“æœ
  - ç»éªŒè®°å¿† (ExperienceMemory) - å­¦ä¹ åˆ°çš„ç»éªŒæ•™è®­
- **è‡ªåŠ¨æŒä¹…åŒ–**ï¼šè®°å¿†è‡ªåŠ¨ä¿å­˜ï¼Œé‡å¯åä¿ç•™
- **æ™ºèƒ½æ¸…ç†**ï¼šè‡ªåŠ¨ç®¡ç†è®°å¿†å®¹é‡ï¼Œä¿æŒæœ€ä¼˜æ€§èƒ½

### ğŸ¯ ç›®æ ‡è§„åˆ’ç³»ç»Ÿ

- **å±‚æ¬¡åŒ–ç»“æ„**ï¼šç›®æ ‡ (Goal) â†’ è®¡åˆ’ (Plan) â†’ ä»»åŠ¡ (Task)
- **ç¼–ç¨‹å¼è¿½è¸ª**ï¼šä½¿ç”¨ TaskTracker è‡ªåŠ¨æ£€æµ‹ä»»åŠ¡å®Œæˆåº¦
- **çµæ´»ç»„åˆ**ï¼šæ”¯æŒä»»åŠ¡ä¾èµ–ã€å­ä»»åŠ¡ã€å¤åˆè¿½è¸ªå™¨
- **å®æ—¶è¿›åº¦**ï¼šè‡ªåŠ¨è®¡ç®—å¹¶æ›´æ–°ä»»åŠ¡è¿›åº¦ç™¾åˆ†æ¯”

### ğŸ® æ ¸å¿ƒåŠŸèƒ½

- **15+ ç§åŠ¨ä½œ**ï¼šç§»åŠ¨ã€æŒ–æ˜ã€å»ºé€ ã€åˆæˆã€æˆ˜æ–—ç­‰
- **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„ TypeScript ç±»å‹ç³»ç»Ÿ
- **äº‹ä»¶é©±åŠ¨**ï¼šç»Ÿä¸€çš„äº‹ä»¶ç®¡ç†ç³»ç»Ÿ
- **æ’ä»¶æ”¯æŒ**ï¼šé›†æˆ Pathfinderã€PvPã€è£…å¤‡ç®¡ç†ç­‰æ’ä»¶
- **è‡ªåŠ¨é‡è¿**ï¼šç½‘ç»œæ–­å¼€åè‡ªåŠ¨é‡è¿

### ğŸ”§ å¼€å‘å‹å¥½

- **æ¨¡å—åŒ–è®¾è®¡**ï¼šé«˜å†…èšã€ä½è€¦åˆçš„æ¶æ„
- **å®Œæ•´æ–‡æ¡£**ï¼šè¯¦ç»†çš„è®¾è®¡æ–‡æ¡£å’Œ API è¯´æ˜
- **å•å…ƒæµ‹è¯•**ï¼šæ ¸å¿ƒæ¨¡å—æµ‹è¯•è¦†ç›–
- **çƒ­é‡è½½é…ç½®**ï¼šé…ç½®å˜æ›´æ— éœ€é‡å¯

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 18.0.0
- ä¸€ä¸ª Minecraft æœåŠ¡å™¨ï¼ˆ1.16+ æ¨èï¼‰
- OpenAI API Keyï¼ˆæˆ–å…¶ä»– LLM æœåŠ¡ï¼‰

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/ChangingSelf/maicraft-next.git
cd maicraft-next

# å®‰è£…ä¾èµ–ï¼ˆæ¨èä½¿ç”¨ pnpmï¼‰
pnpm install
# æˆ–
npm install
```

### é…ç½®

```bash
# å¤åˆ¶é…ç½®æ¨¡æ¿
cp config-template.toml config.toml

# ç¼–è¾‘é…ç½®æ–‡ä»¶
# å¿…é¡»é…ç½®ï¼š
#   - minecraft.host å’Œ minecraft.port
#   - minecraft.username
#   - llm.openai.api_key
```

**æœ€å°é…ç½®ç¤ºä¾‹ï¼š**

```toml
[minecraft]
host = "localhost"
port = 25565
username = "MaicraftBot"

[llm.openai]
enabled = true
api_key = "sk-..."  # ä½ çš„ OpenAI API Key
model = "gpt-4"
```

### æ£€æŸ¥é…ç½®

è¿è¡Œé¢„æ£€æŸ¥è„šæœ¬ï¼Œç¡®ä¿é…ç½®æ­£ç¡®ï¼š

```bash
pnpm check
```

### è¿è¡Œ

```bash
# å¼€å‘æ¨¡å¼ï¼ˆæ¨èï¼‰
pnpm dev

# æˆ–ç”Ÿäº§æ¨¡å¼
pnpm build
pnpm start
```

æˆåŠŸå¯åŠ¨åï¼ŒBot å°†è¿æ¥åˆ°æœåŠ¡å™¨å¹¶å¼€å§‹è‡ªä¸»è¿è¡Œï¼

## ğŸ“– æ–‡æ¡£

- **[å¯åŠ¨æŒ‡å—](STARTUP_GUIDE.md)** - è¯¦ç»†çš„å®‰è£…å’Œé…ç½®è¯´æ˜
- **[å¿«é€Ÿå…¥é—¨](QUICK_START.md)** - 5åˆ†é’Ÿå¿«é€Ÿä½“éªŒ
- **[æ¶æ„è®¾è®¡](docs/design/)** - ç³»ç»Ÿæ¶æ„å’Œè®¾è®¡æ–‡æ¡£
- **[å¼€å‘æŒ‡å—](docs/TEST_GUIDE.md)** - æµ‹è¯•å’Œå¼€å‘è¯´æ˜

### æ ¸å¿ƒæ–‡æ¡£

- [æ ¸å¿ƒæ¶æ„è®¾è®¡](docs/design/core-architecture.md)
- [ä»£ç†æ¶æ„ v2.0](docs/design/agent-architecture-v2.md)
- [è®°å¿†å’Œä»»åŠ¡ç³»ç»Ÿ](docs/design/memory-and-task-system.md)
- [ç›®æ ‡è§„åˆ’ç³»ç»Ÿ](docs/design/goal-planning-system.md)

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Agent                        â”‚
â”‚  (ä¸»åè°ƒå™¨ - ç®¡ç†æ‰€æœ‰å­ç³»ç»Ÿ)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Memory System â”‚    â”‚ Planning System  â”‚
â”‚ - Thought     â”‚    â”‚ - Goals          â”‚
â”‚ - Conversationâ”‚    â”‚ - Plans          â”‚
â”‚ - Decision    â”‚    â”‚ - Tasks          â”‚
â”‚ - Experience  â”‚    â”‚ - Trackers       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Mode Manager   â”‚
        â”‚ - Main Mode      â”‚
        â”‚ - Combat Mode    â”‚
        â”‚ - GUI Mode       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Decision Loopâ”‚    â”‚   Chat Loop   â”‚
â”‚ (ä¸»å†³ç­–å¾ªç¯)  â”‚    â”‚  (èŠå¤©å¾ªç¯)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       ActionExecutor             â”‚
â”‚  (æ‰§è¡ŒåŠ¨ä½œ - è¿æ¥åˆ° Mineflayer)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         GameState                â”‚
â”‚    (å®æ—¶æ¸¸æˆçŠ¶æ€)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

### GameState - å®æ—¶æ¸¸æˆçŠ¶æ€

æ— éœ€æŸ¥è¯¢åŠ¨ä½œï¼Œæ‰€æœ‰çŠ¶æ€å®æ—¶å¯è®¿é—®ï¼š

```typescript
// ç›´æ¥è®¿é—®å½“å‰çŠ¶æ€
const pos = gameState.blockPosition;
const health = gameState.health;
const inventory = gameState.inventory;
```

### Action - ç»Ÿä¸€åŠ¨ä½œç³»ç»Ÿ

æ‰€æœ‰åŠ¨ä½œå¹³ç­‰ï¼Œç±»å‹å®‰å…¨ï¼š

```typescript
await executor.execute('move', { x: 100, y: 64, z: 200 });
await executor.execute('mine_block', { name: 'oak_log', count: 10 });
await executor.execute('craft', { item: 'wooden_pickaxe', count: 1 });
```

### Memory - åˆ†å±‚è®°å¿†

å››ç§ä¸“é—¨çš„è®°å¿†ç±»å‹ï¼Œæ”¯æŒæŸ¥è¯¢å’ŒæŒä¹…åŒ–ï¼š

```typescript
// è®°å½•æ€ç»´
await memory.thought.record({
  category: 'planning',
  content: 'æˆ‘éœ€è¦å…ˆæ”¶é›†æœ¨å¤´',
  context: { goal: 'build_house' },
});

// æŸ¥è¯¢ç›¸å…³è®°å¿†
const decisions = await memory.decision.query({
  filters: { action: 'mine_block' },
  limit: 10,
});
```

### Goal-Plan-Task - ç›®æ ‡è§„åˆ’

å±‚æ¬¡åŒ–çš„ä»»åŠ¡ç®¡ç†ï¼š

```typescript
// åˆ›å»ºç›®æ ‡
const goal = await planning.createGoal({
  name: 'å»ºé€ æˆ¿å­',
  description: 'åœ¨å½“å‰ä½ç½®å»ºé€ ä¸€ä¸ªæœ¨è´¨æˆ¿å­',
  priority: 'high',
});

// ä¸ºç›®æ ‡æ·»åŠ è®¡åˆ’
const plan = await planning.createPlan(goal.id, {
  name: 'æ”¶é›†ææ–™è®¡åˆ’',
  tasks: [
    {
      name: 'æ”¶é›†64ä¸ªæ©¡æœ¨',
      tracker: { type: 'inventory', item: 'oak_log', count: 64 },
    },
    {
      name: 'åˆ¶ä½œæœ¨æ¿',
      tracker: { type: 'inventory', item: 'oak_planks', count: 256 },
    },
  ],
});
```

## ğŸ› ï¸ å¯ç”¨åŠ¨ä½œ

| åŠ¨ä½œ                     | è¯´æ˜         | å‚æ•°                             |
| ------------------------ | ------------ | -------------------------------- |
| `chat`                   | å‘é€èŠå¤©æ¶ˆæ¯ | `message: string`                |
| `move`                   | ç§»åŠ¨åˆ°åæ ‡   | `x, y, z: number`                |
| `find_block`             | æœç´¢æ–¹å—     | `block: string, radius?: number` |
| `mine_block`             | æŒ–æ˜æ–¹å—     | `name: string, count?: number`   |
| `mine_block_by_position` | æŒ–æ˜æŒ‡å®šä½ç½® | `x, y, z: number`                |
| `place_block`            | æ”¾ç½®æ–¹å—     | `name: string, x, y, z: number`  |
| `craft`                  | åˆæˆç‰©å“     | `item: string, count?: number`   |

æ›´å¤šåŠ¨ä½œæŒç»­å¼€å‘ä¸­...

## ğŸ”Œ æ”¯æŒçš„ LLM æä¾›å•†

- âœ… **OpenAI** (GPT-4, GPT-3.5-Turbo)
- ğŸš§ **Azure OpenAI**
- ğŸš§ **Anthropic Claude**

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# ç›‘å¬æ¨¡å¼
pnpm test:watch

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pnpm test:coverage

# è¿è¡Œæµ‹è¯• Botï¼ˆæ—  AIï¼‰
pnpm test-bot
```

## ğŸ“Š å®ç°çŠ¶æ€

æŸ¥çœ‹ [IMPLEMENTATION_STATUS.md](IMPLEMENTATION_STATUS.md) äº†è§£å½“å‰å¼€å‘è¿›åº¦ã€‚

æ ¸å¿ƒç³»ç»Ÿï¼š

- âœ… GameState
- âœ… ActionExecutor
- âœ… EventEmitter
- âœ… Agent æ¶æ„
- âœ… Memory ç³»ç»Ÿ
- âœ… Goal-Planning ç³»ç»Ÿ
- âœ… Mode ç®¡ç†
- âœ… LLM é›†æˆ

æ­£åœ¨å¼€å‘ï¼š

- ğŸš§ æ›´å¤šåŠ¨ä½œå®ç°
- ğŸš§ Web ç®¡ç†ç•Œé¢
- ğŸš§ å¤š Agent åä½œ

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹æˆ‘ä»¬çš„è´¡çŒ®æŒ‡å—ï¼ˆå³å°†æ¨å‡ºï¼‰ã€‚

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®åŸºäºä»¥ä¸‹ä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼š

- [Mineflayer](https://github.com/PrismarineJS/mineflayer) - Minecraft Bot æ¡†æ¶
- [OpenAI](https://openai.com/) - LLM æœåŠ¡
- [TypeScript](https://www.typescriptlang.org/) - ç±»å‹å®‰å…¨çš„ JavaScript

## ğŸ“® è”ç³»æ–¹å¼

- GitHub: [@ChangingSelf](https://github.com/ChangingSelf)
- Issues: [æäº¤é—®é¢˜](https://github.com/ChangingSelf/maicraft-next/issues)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼

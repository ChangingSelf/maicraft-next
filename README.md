# Maicraft-Next

åŸºäº mineflayer çš„ Minecraft AI ä»£ç† - ä½¿ç”¨ LLM é©±åŠ¨çš„æ™ºèƒ½æ¸¸æˆ Bot

æ˜¯å¯¹[maicraft](https://github.com/Mai-with-u/Maicraft)é¡¹ç›®çš„Typescripté‡æ„ï¼Œä¸å†éœ€è¦ä¾èµ–[maicraft-mcp-server](https://github.com/ChangingSelf/maicraft-mcp-server)

## âœ¨ ç‰¹æ€§

### ğŸ§  æ™ºèƒ½å†³ç­–ç³»ç»Ÿ

- **LLM é©±åŠ¨**ï¼šä½¿ç”¨ GPT-4/GPT-3.5/Claude ç­‰å…ˆè¿›æ¨¡å‹è¿›è¡Œå†³ç­–
- **æ¨¡å¼é©±åŠ¨æ¶æ„**ï¼šåŸºäºåŸ maicraft è®¾è®¡çš„ç®€æ´æ¨¡å¼ç³»ç»Ÿï¼Œæ”¯æŒå®æ—¶åˆ‡æ¢
- **GameStateListener**ï¼šå®æ—¶å¨èƒæ£€æµ‹å’Œè‡ªåŠ¨å“åº”æœºåˆ¶
- **å®æ—¶çŠ¶æ€æ„ŸçŸ¥**ï¼šæ— éœ€æŸ¥è¯¢åŠ¨ä½œï¼Œç›´æ¥è®¿é—®å…¨å±€æ¸¸æˆçŠ¶æ€

### ğŸ’¾ å…ˆè¿›è®°å¿†ç³»ç»Ÿ

- **å››ç§è®°å¿†ç±»å‹**ï¼š
  - æ€ç»´è®°å¿† (ThoughtMemory) - AI çš„å†…éƒ¨æ€è€ƒè¿‡ç¨‹
  - å¯¹è¯è®°å¿† (ConversationMemory) - èŠå¤©äº’åŠ¨å†å²
  - å†³ç­–è®°å¿† (DecisionMemory) - è¡ŒåŠ¨å†³ç­–åŠç»“æœ
  - ç»éªŒè®°å¿† (ExperienceMemory) - å­¦ä¹ åˆ°çš„ç»éªŒæ•™è®­
- **è‡ªåŠ¨æŒä¹…åŒ–**ï¼šè®°å¿†è‡ªåŠ¨ä¿å­˜ï¼Œé‡å¯åä¿ç•™
- **æ™ºèƒ½æ¸…ç†**ï¼šè‡ªåŠ¨ç®¡ç†è®°å¿†å®¹é‡ï¼Œä¿æŒæœ€ä¼˜æ€§èƒ½

### ğŸ¯ ç›®æ ‡è§„åˆ’ç³»ç»Ÿ

- **å±‚æ¬¡åŒ–ç»“æ„**ï¼šç›®æ ‡ (Goal) â†’ è®¡åˆ’ (Plan) â†’ ä»»åŠ¡ (Task)
- **ç¼–ç¨‹å¼è¿½è¸ª**ï¼šä½¿ç”¨ TaskTracker è‡ªåŠ¨æ£€æµ‹ä»»åŠ¡å®Œæˆåº¦
- **çµæ´»ç»„åˆ**ï¼šæ”¯æŒä»»åŠ¡ä¾èµ–ã€å­ä»»åŠ¡ã€å¤åˆè¿½è¸ªå™¨
- **å®æ—¶è¿›åº¦**ï¼šè‡ªåŠ¨è®¡ç®—å¹¶æ›´æ–°ä»»åŠ¡è¿›åº¦ç™¾åˆ†æ¯”

### ğŸ® æ ¸å¿ƒåŠŸèƒ½

- **15+ ç§åŠ¨ä½œ**ï¼šç§»åŠ¨ã€æŒ–æ˜ã€å»ºé€ ã€åˆæˆã€æˆ˜æ–—ç­‰
- **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„ TypeScript ç±»å‹ç³»ç»Ÿ
- **äº‹ä»¶é©±åŠ¨**ï¼šç»Ÿä¸€çš„äº‹ä»¶ç®¡ç†ç³»ç»Ÿ
- **æ’ä»¶æ”¯æŒ**ï¼šé›†æˆ Pathfinderã€PvPã€è£…å¤‡ç®¡ç†ç­‰æ’ä»¶
- **è‡ªåŠ¨é‡è¿**ï¼šç½‘ç»œæ–­å¼€åè‡ªåŠ¨é‡è¿

### ğŸ”§ å¼€å‘å‹å¥½

- **æ¨¡å—åŒ–è®¾è®¡**ï¼šé«˜å†…èšã€ä½è€¦åˆçš„æ¶æ„
- **å®Œæ•´æ–‡æ¡£**ï¼šè¯¦ç»†çš„è®¾è®¡æ–‡æ¡£å’Œ API è¯´æ˜
- **å•å…ƒæµ‹è¯•**ï¼šæ ¸å¿ƒæ¨¡å—æµ‹è¯•è¦†ç›–
- **çƒ­é‡è½½é…ç½®**ï¼šé…ç½®å˜æ›´æ— éœ€é‡å¯

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 18.0.0
- ä¸€ä¸ª Minecraft æœåŠ¡å™¨ï¼ˆ1.16+ æ¨èï¼‰
- OpenAI API Keyï¼ˆæˆ–å…¶ä»– LLM æœåŠ¡ï¼‰

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/ChangingSelf/maicraft-next.git
cd maicraft-next

# å®‰è£…ä¾èµ–ï¼ˆæ¨èä½¿ç”¨ pnpmï¼‰
pnpm install
# æˆ–
npm install
```

### é…ç½®

```bash
# å¤åˆ¶é…ç½®æ¨¡æ¿
cp config-template.toml config.toml

# ç¼–è¾‘é…ç½®æ–‡ä»¶
# å¿…é¡»é…ç½®ï¼š
#   - minecraft.host å’Œ minecraft.port
#   - minecraft.username
#   - llm.openai.api_key
```

**æœ€å°é…ç½®ç¤ºä¾‹ï¼š**

```toml
[minecraft]
host = "localhost"
port = 25565
username = "MaicraftBot"

[llm.openai]
enabled = true
api_key = "sk-..."  # ä½ çš„ OpenAI API Key
model = "gpt-4"
```

### æ£€æŸ¥é…ç½®

è¿è¡Œé¢„æ£€æŸ¥è„šæœ¬ï¼Œç¡®ä¿é…ç½®æ­£ç¡®ï¼š

```bash
pnpm check
```

### è¿è¡Œ

```bash
# å¼€å‘æ¨¡å¼ï¼ˆæ¨èï¼‰
pnpm dev

# æˆ–ç”Ÿäº§æ¨¡å¼
pnpm build
pnpm start
```

æˆåŠŸå¯åŠ¨åï¼ŒBot å°†è¿æ¥åˆ°æœåŠ¡å™¨å¹¶å¼€å§‹è‡ªä¸»è¿è¡Œï¼

## ğŸ“– å®Œæ•´æ–‡æ¡£ä¸­å¿ƒ

### æ ¸å¿ƒæ¨¡å—æ–‡æ¡£

#### åŸºç¡€æ¶æ„

- **[æ¶æ„æ¦‚è§ˆ](docs/architecture-overview.md)** - ç³»ç»Ÿæ•´ä½“æ¶æ„å’Œè®¾è®¡ç†å¿µ
- **[çŠ¶æ€ç®¡ç†](docs/state-management.md)** - GameState åŠç¼“å­˜ç³»ç»Ÿï¼ˆBlockCacheã€ContainerCacheã€LocationManagerï¼‰
- **[ç¼“å­˜ä¼˜åŒ–è¯´æ˜](docs/cache-optimization.md)** - æ–¹å—ç¼“å­˜ç³»ç»Ÿä¼˜åŒ–è¯¦è§£ âœ¨æ–°å¢
- **[äº‹ä»¶ç³»ç»Ÿ](docs/event-system.md)** - ç»Ÿä¸€çš„äº‹ä»¶ç®¡ç†æœºåˆ¶
- **[é…ç½®ç³»ç»Ÿ](docs/config-system-usage.md)** - é…ç½®æ–‡ä»¶ç®¡ç†å’Œçƒ­é‡è½½

#### æ ¸å¿ƒåŠŸèƒ½

- **[åŠ¨ä½œç³»ç»Ÿ](docs/action-system.md)** - 15ä¸ªæ ¸å¿ƒåŠ¨ä½œçš„è®¾è®¡ä¸å®ç°
- **[ä»£ç†ç³»ç»Ÿ](docs/agent-system.md)** - Agent ä¸»åè°ƒå™¨åŠå…¶å­ç³»ç»Ÿ
- **[å†³ç­–å¾ªç¯](docs/decision-loop.md)** - MainDecisionLoop å’Œ ChatLoop çš„å·¥ä½œæœºåˆ¶
- **[å†³ç­–ç­–ç•¥ç³»ç»Ÿ](docs/decision-strategy-system.md)** - ç­–ç•¥æ¨¡å¼ + è´£ä»»é“¾æ¨¡å¼çš„å†³ç­–æ¶æ„ âœ¨æ–°å¢

#### AI èƒ½åŠ›

- **[è®°å¿†ç³»ç»Ÿ](docs/memory-system.md)** - å››ç§è®°å¿†ç±»å‹ï¼ˆThoughtã€Conversationã€Decisionã€Experienceï¼‰
- **[è§„åˆ’ç³»ç»Ÿ](docs/planning-system.md)** - Goal-Plan-Task å±‚æ¬¡åŒ–ä»»åŠ¡ç®¡ç†
- **[æ¨¡å¼ç³»ç»Ÿ](docs/mode-system.md)** - æ¨¡å¼åˆ‡æ¢å’Œç®¡ç†æœºåˆ¶
- **[æç¤ºè¯ç³»ç»Ÿ](docs/prompt-system.md)** - Prompt æ¨¡æ¿ç®¡ç†å’Œç”Ÿæˆ
- **[LLM é›†æˆ](docs/llm-integration.md)** - å¤šæä¾›å•† LLM ç®¡ç†å’Œè°ƒç”¨
- **[ä¾èµ–æ³¨å…¥](docs/dependency-injection.md)** - DI å®¹å™¨æ¶æ„å’Œä½¿ç”¨æŒ‡å—

#### å¼€å‘æŒ‡å—

- **[æµ‹è¯•æŒ‡å—](docs/TEST_GUIDE.md)** - å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•è¯´æ˜
- **[é…ç½®ä½¿ç”¨](docs/config-system-usage.md)** - é…ç½®æ–‡ä»¶è¯¦ç»†ä½¿ç”¨æŒ‡å—

#### è®¾è®¡ä¼˜åŒ–

- **[è®¾è®¡ä¼˜åŒ–è¯¦è§£](docs/design-optimizations.md)** - ç›¸æ¯” Maicraft å’Œ Maicraft-MCP-Server çš„æ ¸å¿ƒæ”¹è¿›

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

```mermaid
graph TD
    A[Agent<br/>ä¸»åè°ƒå™¨ - ç®¡ç†æ‰€æœ‰å­ç³»ç»Ÿ] --> B[MemoryManager<br/>è®°å¿†ç®¡ç†å™¨]
    A --> C[GoalPlanningManager<br/>ç›®æ ‡è§„åˆ’ç®¡ç†å™¨]
    A --> D[ModeManager<br/>æ¨¡å¼ç®¡ç†å™¨]
    A --> E[MainDecisionLoop<br/>ä¸»å†³ç­–å¾ªç¯]
    A --> F[ChatLoop<br/>èŠå¤©å¾ªç¯]

    B --> B1[ThoughtMemory<br/>æ€ç»´è®°å¿†]
    B --> B2[ConversationMemory<br/>å¯¹è¯è®°å¿†]
    B --> B3[DecisionMemory<br/>å†³ç­–è®°å¿†]
    B --> B4[ExperienceMemory<br/>ç»éªŒè®°å¿†]

    C --> C1[Goal<br/>ç›®æ ‡]
    C --> C2[Plan<br/>è®¡åˆ’]
    C --> C3[Task<br/>ä»»åŠ¡]
    C --> C4[Tracker<br/>è¿½è¸ªå™¨]

    D --> D1[MainMode<br/>ä¸»æ¨¡å¼ - LLMå†³ç­–]
    D --> D2[CombatMode<br/>æˆ˜æ–—æ¨¡å¼ - å®æ—¶å“åº”]
    D --> D3[ç›‘å¬å™¨æœºåˆ¶<br/>GameStateListener]

    E --> G[ActionExecutor<br/>åŠ¨ä½œæ‰§è¡Œå™¨]
    F --> G

    G --> H[GameState<br/>æ¸¸æˆçŠ¶æ€]

    I[Mineflayer Bot<br/>Minecraft å®¢æˆ·ç«¯] --> H

    classDef agentClass fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef systemClass fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef componentClass fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef coreClass fill:#fff3e0,stroke:#e65100,stroke-width:2px

    class A agentClass
    class B,C,D systemClass
    class B1,B2,B3,B4,C1,C2,C3,C4,D1,D2,D3 componentClass
    class E,F,G,H,I coreClass
```

## ğŸ”„ ç³»ç»Ÿå·¥ä½œæ—¶åºå›¾

```mermaid
sequenceDiagram
    participant M as Mineflayer Bot
    participant GS as GameState
    participant A as Agent
    participant MM as ModeManager
    participant DL as DecisionLoop
    participant LLM as LLM Service
    participant AE as ActionExecutor

    Note over M,AE: ç³»ç»Ÿå¯åŠ¨æµç¨‹
    M->>GS: è¿æ¥MinecraftæœåŠ¡å™¨
    M->>GS: åˆå§‹åŒ–æ¸¸æˆçŠ¶æ€ç›‘å¬

    Note over M,AE: æ¸¸æˆè¿è¡Œæ—¶åº
    loop å®æ—¶çŠ¶æ€æ›´æ–° (æ¯200ms)
        M->>GS: è§¦å‘çŠ¶æ€äº‹ä»¶<br/>(ä½ç½®/ç”Ÿå‘½å€¼/ç‰©å“ç­‰)
        GS->>A: é€šçŸ¥çŠ¶æ€å˜æ›´
    end

    Note over A,AE: å†³ç­–æ‰§è¡Œæµç¨‹
    A->>MM: æ£€æŸ¥å½“å‰æ¨¡å¼
    alt ä¸»æ¨¡å¼ (MainMode)
        MM->>DL: è°ƒç”¨ä¸»å†³ç­–å¾ªç¯
    else æˆ˜æ–—æ¨¡å¼ (CombatMode)
        MM->>DL: è°ƒç”¨æˆ˜æ–—å†³ç­–å¾ªç¯
    else èŠå¤©æ¨¡å¼
        MM->>DL: è°ƒç”¨èŠå¤©å¾ªç¯
    end

    DL->>LLM: è¯·æ±‚å†³ç­–<br/>(åŒ…å«å½“å‰çŠ¶æ€å’Œè®°å¿†)
    LLM-->>DL: è¿”å›åŠ¨ä½œæŒ‡ä»¤

    DL->>AE: æ‰§è¡ŒåŠ¨ä½œ
    AE->>M: è°ƒç”¨Mineflayer API
    M->>GS: æ›´æ–°æ¸¸æˆçŠ¶æ€
    AE-->>DL: è¿”å›æ‰§è¡Œç»“æœ

    Note over DL,A: è®°å¿†å’Œè§„åˆ’æ›´æ–°
    DL->>A: è®°å½•å†³ç­–è®°å¿†
    DL->>A: æ›´æ–°ä»»åŠ¡è¿›åº¦
    A->>A: æŒä¹…åŒ–è®°å¿†æ•°æ®
```

## ğŸ”„ ä» Maicraft åˆ° Maicraft-Next

### æ¶æ„å¯¹æ¯”

**Maicraft (Python + MCP)**

```
Python Agent â†’ MCP Client â†’ (IPC/stdio) â†’ MCP Server â†’ Mineflayer Bot
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è·¨è¿›ç¨‹é€šä¿¡å¼€é”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Maicraft-Next (çº¯ TypeScript)**

```
TypeScript Agent â†’ ActionExecutor â†’ Mineflayer Bot
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å†…å­˜ç›´è°ƒï¼Œé›¶å¼€é”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸»è¦æ”¹è¿›

| æ–¹é¢         | Maicraft (Python)                        | Maicraft-Next (TypeScript)       |
| ------------ | ---------------------------------------- | -------------------------------- |
| **æ¶æ„**     | Python Agent + MCP Server (åŒè¿›ç¨‹)       | çº¯ TypeScript å•ä½“æ¶æ„           |
| **é€šä¿¡æ–¹å¼** | MCP åè®® (stdio/IPC)                     | å†…å­˜ç›´æ¥è°ƒç”¨                     |
| **çŠ¶æ€è®¿é—®** | é€šè¿‡å·¥å…·æŸ¥è¯¢ï¼ˆå¦‚ `query_player_status`ï¼‰ | GameState å®æ—¶è®¿é—®               |
| **åŠ¨ä½œæ•°é‡** | 25+ ä¸ªï¼ˆå«å¤šä¸ªæŸ¥è¯¢ç±»åŠ¨ä½œï¼‰               | 15 ä¸ªæ ¸å¿ƒåŠ¨ä½œï¼ˆå»é™¤æŸ¥è¯¢ç±»ï¼‰      |
| **ç±»å‹å®‰å…¨** | Python åŠ¨æ€ç±»å‹                          | TypeScript é™æ€ç±»å‹ + ç¼–è¯‘æ—¶æ£€æŸ¥ |
| **è®°å¿†ç³»ç»Ÿ** | ç®€å•çš„ thinking_log                      | 4ç§ä¸“é—¨è®°å¿†ç±»å‹ + æŒä¹…åŒ–         |
| **ä»»åŠ¡ç®¡ç†** | ç®€å•çš„ to_do_list                        | Goal-Plan-Task å±‚æ¬¡åŒ–ç³»ç»Ÿ        |
| **æ€§èƒ½**     | è·¨è¿›ç¨‹å¼€é”€                               | æ€§èƒ½æå‡ 10-50x                  |
| **æ–¹å—ç¼“å­˜** | å®šæœŸå…¨é‡æ‰«æ + çº¿æ€§æŸ¥è¯¢                  | åŒºå—äº‹ä»¶é©±åŠ¨ + ç©ºé—´ç´¢å¼•          |
| **ç¼“å­˜æŸ¥è¯¢** | ~500ms (380ä¸‡æ–¹å—)                       | ~5ms (100-1000x æå‡)            |
| **å†…å­˜å ç”¨** | ~200 bytes/æ–¹å—                          | ~50 bytes/æ–¹å— (å‡å°‘75%)         |

### æ ¸å¿ƒè®¾è®¡ç†å¿µ

#### 1. å»é™¤æŸ¥è¯¢åŠ¨ä½œï¼ŒçŠ¶æ€å…¨å±€å¯è®¿é—® âœ…

**ä¹‹å‰ (Maicraft Python)**

```python
# âŒ éœ€è¦é€šè¿‡å·¥å…·æŸ¥è¯¢çŠ¶æ€
result = await mcp_client.call_tool("query_player_status", {})
health = result['data']['health']
```

**ç°åœ¨ (Maicraft-Next)**

```typescript
// âœ… çŠ¶æ€å®æ—¶å¯è®¿é—®ï¼Œæ— éœ€æŸ¥è¯¢
const health = gameState.health;
const food = gameState.food;
const position = gameState.position;
```

#### 2. ç²¾ç®€åŠ¨ä½œåˆ—è¡¨ï¼Œä¼˜åŒ– LLM ä¸Šä¸‹æ–‡ âœ…

- **å»é™¤**ï¼š7ä¸ªæŸ¥è¯¢ç±»åŠ¨ä½œï¼ˆ`query_player_status`ã€`query_game_state` ç­‰ï¼‰
- **ä¿ç•™**ï¼š15ä¸ªæ ¸å¿ƒæ‰§è¡ŒåŠ¨ä½œï¼ŒåŸºäºå®é™…ä½¿ç”¨é¢‘ç‡ä¼˜åŒ–
- **ä¼˜åŠ¿**ï¼šå‡å°‘ LLM ä¸Šä¸‹æ–‡å ç”¨ï¼Œæå‡å†³ç­–è´¨é‡

#### 3. ç±»å‹å®‰å…¨çš„åŠ¨ä½œè°ƒç”¨ âœ…

```typescript
// âœ… ä½¿ç”¨ ActionIds å¸¸é‡ï¼Œé¿å…æ‹¼å†™é”™è¯¯
await executor.execute(ActionIds.MOVE, { x: 100, y: 64, z: 200 });

// âœ… å®Œæ•´çš„ TypeScript ç±»å‹æ£€æŸ¥
// ç¼–è¯‘æ—¶å°±èƒ½å‘ç°å‚æ•°é”™è¯¯
```

#### 4. ç»Ÿä¸€äº‹ä»¶ç³»ç»Ÿ âœ…

```typescript
// âœ… ä¿æŒ mineflayer åŸå§‹äº‹ä»¶å
context.events.on('entityHurt', (data) => { ... });
context.events.on('health', (data) => { ... });

// âœ… æ”¯æŒè‡ªå®šä¹‰äº‹ä»¶
context.events.on('actionComplete', (data) => { ... });
```

#### 5. å®Œæ•´çš„ AI èƒ½åŠ›ç³»ç»Ÿ âœ…

- **è®°å¿†ç³»ç»Ÿ**ï¼š4ç§ä¸“é—¨è®°å¿†ç±»å‹ï¼Œæ”¯æŒæŸ¥è¯¢å’ŒæŒä¹…åŒ–
- **è§„åˆ’ç³»ç»Ÿ**ï¼šGoal-Plan-Task ä¸‰å±‚ç»“æ„ï¼Œæ”¯æŒè¿›åº¦è¿½è¸ª
- **æ¨¡å¼ç³»ç»Ÿ**ï¼šçµæ´»çš„æ¨¡å¼åˆ‡æ¢æœºåˆ¶ï¼Œé€‚åº”ä¸åŒåœºæ™¯

#### 6. é«˜æ€§èƒ½ç¼“å­˜ç³»ç»Ÿ âœ… 

```typescript
// âœ… åŸºäº Minecraft åŒºå—äº‹ä»¶çš„æ™ºèƒ½ç¼“å­˜
bot.on('chunkColumnLoad', () => scanChunk());    // åŒºå—åŠ è½½æ—¶æ‰«æ
bot.on('chunkColumnUnload', () => clearChunk()); // åŒºå—å¸è½½æ—¶æ¸…ç†

// âœ… åŒºå—ç´¢å¼• + ç©ºé—´æŸ¥è¯¢ï¼ŒæŸ¥è¯¢é€Ÿåº¦æå‡ 100-1000x
const blocks = blockCache.getBlocksInRadius(x, y, z, 50);

// âœ… å¯é€‰"åªç¼“å­˜å¯è§æ–¹å—"ï¼Œæ›´æ‹Ÿäººä¸”èŠ‚çœå†…å­˜
config.onlyVisibleBlocks = true;
```

**ç¼“å­˜ç³»ç»Ÿä¼˜åŒ–è¯¦æƒ…**ï¼šæŸ¥çœ‹ [ç¼“å­˜ä¼˜åŒ–è¯´æ˜](docs/cache-optimization.md)

---

## ğŸ¯ å¿«é€Ÿå¼€å§‹

1. **å®‰è£…å’Œé…ç½®** - æŸ¥çœ‹é¡¹ç›®æ ¹ç›®å½•çš„ [README.md](../README.md)
2. **äº†è§£æ¶æ„** - é˜…è¯» [æ¶æ„æ¦‚è§ˆ](docs/architecture-overview.md)
3. **å­¦ä¹ åŠ¨ä½œç³»ç»Ÿ** - é˜…è¯» [åŠ¨ä½œç³»ç»Ÿ](docs/action-system.md)
4. **æ¢ç´¢ AI èƒ½åŠ›** - é˜…è¯» [è®°å¿†ç³»ç»Ÿ](docs/memory-system.md) å’Œ [è§„åˆ’ç³»ç»Ÿ](docs/planning-system.md)
5. **æ·±å…¥äº†è§£ä¼˜åŒ–** - é˜…è¯» [è®¾è®¡ä¼˜åŒ–è¯¦è§£](docs/design-optimizations.md)

---

## ğŸ“ æ–‡æ¡£çº¦å®š

- âœ… è¡¨ç¤ºå·²å®ç°çš„åŠŸèƒ½
- ğŸš§ è¡¨ç¤ºæ­£åœ¨å¼€å‘çš„åŠŸèƒ½
- ğŸ“– è¡¨ç¤ºè®¾è®¡æ–‡æ¡£
- ğŸ’¡ è¡¨ç¤ºæœ€ä½³å®è·µ
- âš ï¸ è¡¨ç¤ºæ³¨æ„äº‹é¡¹

---

## ğŸ¤ è´¡çŒ®

å‘ç°æ–‡æ¡£æœ‰è¯¯æˆ–éœ€è¦è¡¥å……ï¼Ÿæ¬¢è¿æäº¤ Issue æˆ– PRï¼

---

_æœ€åæ›´æ–°: 2025-11-01_  
_ç‰ˆæœ¬: 2.0_

---

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

### GameState - å®æ—¶æ¸¸æˆçŠ¶æ€

æ— éœ€æŸ¥è¯¢åŠ¨ä½œï¼Œæ‰€æœ‰çŠ¶æ€å®æ—¶å¯è®¿é—®ï¼š

```typescript
// ç›´æ¥è®¿é—®å½“å‰çŠ¶æ€
const pos = gameState.blockPosition;
const health = gameState.health;
const inventory = gameState.inventory;
```

### Action - ç»Ÿä¸€åŠ¨ä½œç³»ç»Ÿ

æ‰€æœ‰åŠ¨ä½œå¹³ç­‰ï¼Œç±»å‹å®‰å…¨ï¼š

```typescript
await executor.execute('move', { x: 100, y: 64, z: 200 });
await executor.execute('mine_block', { name: 'oak_log', count: 10 });
await executor.execute('craft', { item: 'wooden_pickaxe', count: 1 });
```

### Memory - åˆ†å±‚è®°å¿†

å››ç§ä¸“é—¨çš„è®°å¿†ç±»å‹ï¼Œæ”¯æŒæŸ¥è¯¢å’ŒæŒä¹…åŒ–ï¼š

```typescript
// è®°å½•æ€ç»´
await memory.thought.record({
  category: 'planning',
  content: 'æˆ‘éœ€è¦å…ˆæ”¶é›†æœ¨å¤´',
  context: { goal: 'build_house' },
});

// æŸ¥è¯¢ç›¸å…³è®°å¿†
const decisions = await memory.decision.query({
  filters: { action: 'mine_block' },
  limit: 10,
});
```

### Goal-Plan-Task - ç›®æ ‡è§„åˆ’

å±‚æ¬¡åŒ–çš„ä»»åŠ¡ç®¡ç†ï¼š

```typescript
// åˆ›å»ºç›®æ ‡
const goal = await planning.createGoal({
  name: 'å»ºé€ æˆ¿å­',
  description: 'åœ¨å½“å‰ä½ç½®å»ºé€ ä¸€ä¸ªæœ¨è´¨æˆ¿å­',
  priority: 'high',
});

// ä¸ºç›®æ ‡æ·»åŠ è®¡åˆ’
const plan = await planning.createPlan(goal.id, {
  name: 'æ”¶é›†ææ–™è®¡åˆ’',
  tasks: [
    {
      name: 'æ”¶é›†64ä¸ªæ©¡æœ¨',
      tracker: { type: 'inventory', item: 'oak_log', count: 64 },
    },
    {
      name: 'åˆ¶ä½œæœ¨æ¿',
      tracker: { type: 'inventory', item: 'oak_planks', count: 256 },
    },
  ],
});
```

## ğŸ› ï¸ å¯ç”¨åŠ¨ä½œ

| åŠ¨ä½œ                     | è¯´æ˜         | å‚æ•°                             |
| ------------------------ | ------------ | -------------------------------- |
| `chat`                   | å‘é€èŠå¤©æ¶ˆæ¯ | `message: string`                |
| `move`                   | ç§»åŠ¨åˆ°åæ ‡   | `x, y, z: number`                |
| `find_block`             | æœç´¢æ–¹å—     | `block: string, radius?: number` |
| `mine_block`             | æŒ–æ˜æ–¹å—     | `name: string, count?: number`   |
| `mine_block_by_position` | æŒ–æ˜æŒ‡å®šä½ç½® | `x, y, z: number`                |
| `place_block`            | æ”¾ç½®æ–¹å—     | `name: string, x, y, z: number`  |
| `craft`                  | åˆæˆç‰©å“     | `item: string, count?: number`   |

æ›´å¤šåŠ¨ä½œæŒç»­å¼€å‘ä¸­...

## ğŸ”Œ æ”¯æŒçš„ LLM æä¾›å•†

- âœ… **OpenAI** (GPT-4, GPT-3.5-Turbo)
- ğŸš§ **Azure OpenAI**
- ğŸš§ **Anthropic Claude**

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# ç›‘å¬æ¨¡å¼
pnpm test:watch

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pnpm test:coverage

# è¿è¡Œæµ‹è¯• Botï¼ˆæ—  AIï¼‰
pnpm test-bot
```

## ğŸ“Š å®ç°çŠ¶æ€

æŸ¥çœ‹ [IMPLEMENTATION_STATUS.md](IMPLEMENTATION_STATUS.md) äº†è§£å½“å‰å¼€å‘è¿›åº¦ã€‚

æ ¸å¿ƒç³»ç»Ÿï¼š

- âœ… GameState
- âœ… ActionExecutor
- âœ… EventEmitter
- âœ… Agent æ¶æ„
- âœ… Memory ç³»ç»Ÿ
- âœ… Goal-Planning ç³»ç»Ÿ
- âœ… Mode ç®¡ç†
- âœ… LLM é›†æˆ

æ­£åœ¨å¼€å‘ï¼š

- ğŸš§ æ›´å¤šåŠ¨ä½œå®ç°
- ğŸš§ Web ç®¡ç†ç•Œé¢
- ğŸš§ å¤š Agent åä½œ

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹æˆ‘ä»¬çš„è´¡çŒ®æŒ‡å—ï¼ˆå³å°†æ¨å‡ºï¼‰ã€‚

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®åŸºäºä»¥ä¸‹ä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼š

- [Mineflayer](https://github.com/PrismarineJS/mineflayer) - Minecraft Bot æ¡†æ¶
- [OpenAI](https://openai.com/) - LLM æœåŠ¡
- [TypeScript](https://www.typescriptlang.org/) - ç±»å‹å®‰å…¨çš„ JavaScript

## ğŸ“® è”ç³»æ–¹å¼

- GitHub: [@ChangingSelf](https://github.com/ChangingSelf)
- Issues: [æäº¤é—®é¢˜](https://github.com/ChangingSelf/maicraft-next/issues)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼

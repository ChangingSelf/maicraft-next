# ğŸ”¥ å…³é”®é—®é¢˜ä¿®å¤

## é—®é¢˜è¯Šæ–­

### ç”¨æˆ·æŠ¥å‘Š
```
ç©å®¶ä½ç½®: x=826, y=44, z=230
ç¼“å­˜æ€»å¤§å°: 24848
åœ¨åŠå¾„16æ ¼å†…æœªæ‰¾åˆ°æ–¹å—
æ‰©å¤§åˆ°100æ ¼: æ‰¾åˆ° 16464 ä¸ªæ–¹å—
ç¼“å­˜ç¤ºä¾‹ä½ç½®: (816,92,224)
```

### é—®é¢˜åˆ†æ

**åæ ‡å·®è·**ï¼š
- X: 826 - 816 = 10æ ¼ âœ… åœ¨èŒƒå›´å†…
- Z: 230 - 224 = 6æ ¼ âœ… åœ¨èŒƒå›´å†…  
- **Y: 92 - 44 = 48æ ¼** âŒ **ä¸¥é‡è¶…å‡ºèŒƒå›´ï¼**

### æ ¹æœ¬åŸå› 

**Yè½´æ‰«æèŒƒå›´é™åˆ¶è¿‡å°**ï¼š

```typescript
// æ—§ä»£ç  - åªæ‰«æ12æ ¼é«˜åº¦ï¼
const scanStartY = Math.max(0, centerPos.y - 4);  // å¾€ä¸‹4æ ¼
const scanEndY = Math.min(centerPos.y + 8, 255);   // å¾€ä¸Š8æ ¼
// æ€»å…±åªæœ‰ 4+8 = 12æ ¼ é«˜åº¦ï¼
```

**é—®é¢˜åœºæ™¯**ï¼š
1. Bot åœ¨ y=92 çš„ä½ç½®æ‰«æè¿‡
2. Bot ä¸‹é™åˆ° y=44
3. æ—§ç¼“å­˜ï¼ˆy=92ï¼‰è¿˜åœ¨ï¼Œå› ä¸º x,z åœ¨150æ ¼ä¿ç•™èŒƒå›´å†…
4. æ–°ä½ç½®ï¼ˆy=44ï¼‰å‘¨å›´åªæ‰«æ y=40~52ï¼Œæ²¡æœ‰æ–¹å—
5. æŸ¥è¯¢æ—¶æ‰¾ä¸åˆ°å½“å‰ä½ç½®çš„æ–¹å—

## ä¿®å¤æ–¹æ¡ˆ

### 1. ä½¿ç”¨å®Œæ•´çš„Yè½´æ‰«æèŒƒå›´

```typescript
// æ–°ä»£ç  - å…¨èŒƒå›´æ‰«æ
const scanStartY = Math.max(0, centerPos.y - radius);    // ä¸‹æ–¹åŠå¾„æ ¼
const scanEndY = Math.min(centerPos.y + radius, 255);    // ä¸Šæ–¹åŠå¾„æ ¼
// åŠå¾„50æ ¼ = 100æ ¼é«˜åº¦ï¼
```

### 2. ä¿®æ­£å¾ªç¯é¡ºåºå’Œåæ ‡è®¡ç®—

```typescript
// æ—§ä»£ç  - Yè½´ä½¿ç”¨ç›¸å¯¹åæ ‡
for (let y = scanEndY; y >= scanStartY; y--) {
  const worldY = centerPos.y + y;  // âŒ é”™è¯¯ï¼yå·²ç»æ˜¯ç»å¯¹åæ ‡
}

// æ–°ä»£ç  - Yè½´ä½¿ç”¨ç»å¯¹åæ ‡
for (let y = scanStartY; y <= scanEndY; y++) {
  const worldY = y;  // âœ… æ­£ç¡®ï¼ç›´æ¥ä½¿ç”¨
}
```

### 3. ä¼˜åŒ–å¾ªç¯é¡ºåºï¼ˆæ€§èƒ½ï¼‰

```typescript
// æ—§é¡ºåºï¼šx -> y -> z
for (let x = -radius; x <= radius; x++) {
  for (let y = scanEndY; y >= scanStartY; y--) {
    for (let z = -radius; z <= radius; z++) {

// æ–°é¡ºåºï¼šx -> z -> yï¼ˆæ›´é€‚åˆç©ºé—´å±€éƒ¨æ€§ï¼‰
for (let x = -radius; x <= radius; x++) {
  for (let z = -radius; z <= radius; z++) {
    for (let y = scanStartY; y <= scanEndY; y++) {
```

## æ•ˆæœå¯¹æ¯”

### Beforeï¼ˆæ—§ä»£ç ï¼‰

```
ä½ç½®: (826, 44, 230)
Yè½´æ‰«æ: y=40 åˆ° y=52 (12æ ¼)
ç»“æœ: åœ¨16æ ¼å†…æ‰¾ä¸åˆ°æ–¹å— âŒ
åŸå› : å‘¨å›´æ–¹å—å¯èƒ½åœ¨ y=30-60 èŒƒå›´ï¼Œä½†åªæ‰«æäº†ä¸€å°éƒ¨åˆ†
```

### Afterï¼ˆæ–°ä»£ç ï¼‰

```
ä½ç½®: (826, 44, 230)
æ‰«æåŠå¾„: 50æ ¼
Yè½´æ‰«æ: y=-6 åˆ° y=94 (100æ ¼ï¼Œå®é™…0-94)
ç»“æœ: èƒ½æ‰¾åˆ°å‘¨å›´æ‰€æœ‰æ–¹å— âœ…
è¦†ç›–: ä¸Šä¸‹å„50æ ¼ï¼Œå®Œå…¨è¦†ç›–æ­£å¸¸æ¸¸æˆèŒƒå›´
```

## é…ç½®æ€»ç»“

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|---|------|
| æ‰«æé—´éš” | 500ms (0.5ç§’) | å®æ—¶æ›´æ–° |
| æ‰«æåŠå¾„ | 50æ ¼ | å¤§èŒƒå›´æ„ŸçŸ¥ |
| Yè½´èŒƒå›´ | Â±50æ ¼ (100æ ¼) | ä¸Šä¸‹å„åŠå¾„è·ç¦» |
| æ–¹å—é™åˆ¶ | 10000ä¸ª/æ¬¡ | æ”¯æŒå¤§èŒƒå›´ |
| ç¼“å­˜å®¹é‡ | 50000ä¸ª | è¶³å¤Ÿå­˜å‚¨ |
| è¿‡æœŸæ—¶é—´ | 10ç§’ | å¿«é€Ÿæ¸…ç† |
| ä¿ç•™èŒƒå›´ | 150æ ¼ | 3å€åŠå¾„ |

## æ‰«æä½“ç§¯

**æ–°é…ç½®**ï¼š
- X: Â±50æ ¼ = 101æ ¼
- Y: Â±50æ ¼ = 101æ ¼  
- Z: Â±50æ ¼ = 101æ ¼
- **æ€»ä½“ç§¯**: 101Â³ = 1,030,301 æ ¼

**å®é™…é™åˆ¶**ï¼š
- æ‰«ææ—¶é—´: 800ms
- æ–¹å—é™åˆ¶: 10000ä¸ª
- ä¼šåœ¨è¾¾åˆ°é™åˆ¶æ—¶åœæ­¢

## æµ‹è¯•éªŒè¯

é‡å¯ååº”è¯¥çœ‹åˆ°ï¼š

```
ğŸ” [å®æ—¶æ‰«æ] ä½ç½®: (826, 44, 230), åŠå¾„: 50
âœ… [å®æ—¶æ‰«æå®Œæˆ] ä½ç½®:(826,44,230) å·²ç¼“å­˜:8500 æ¸…ç†:15000 æ€»æ•°:9000
```

æŸ¥è¯¢ç»“æœï¼š
```
ã€å‘¨å›´æ–¹å—åˆ†å¸ƒã€‘
ğŸ’§ water (350ä¸ª): ...
ğŸª¨ stone (2500ä¸ª): ...
ğŸŸ¤ dirt (450ä¸ª): ...
...
```

## é‡è¦æç¤º

è¿™æ¬¡ä¿®å¤**å½»åº•è§£å†³äº†Yè½´é™åˆ¶é—®é¢˜**ï¼Œç°åœ¨ï¼š

âœ… å…¨èŒƒå›´Yè½´æ‰«æï¼ˆä¸Šä¸‹å„50æ ¼ï¼‰
âœ… ä¸å†æœ‰é«˜åº¦ç›²åŒº
âœ… æ— è®ºä»å“ªé‡Œæ¥éƒ½èƒ½æ„ŸçŸ¥å½“å‰ä½ç½®
âœ… 0.5ç§’æ›´æ–°ï¼Œå®æ—¶å“åº”

è¯·ç«‹å³é‡å¯ç¨‹åºæµ‹è¯•ï¼

